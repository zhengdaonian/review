- 设计模式不常用，但他们的设计思想有指导意义

### 设计原则

- 单一原则 （每个程序做一件事）
- 开放封闭原则 （对扩展开放，对修改封闭）
- 李氏置换原则 （子类能够覆盖父类）
- 接口隔离原则 （保持接口的单一独立）
- 依赖倒置原则（迈向接口编程）

### 设计模式

- 工厂模式
  <br />
  创建对象的一种方式。不用每次都亲自创建对象，而是通过一个既定的“工厂”来生产对象。把创建者和 class 分离，符合开放封闭原则
- 单例模式
  <br />
  一个系统中就只有一个，保证唯一性
- 观察者模式
  <br />
  前端最常见，交互，生命周期的触发。 观察者模式是被动的，无法主动触发。
- 发布-订阅模式
  <br />
  发布订阅模式，是可以主动触发的。
- 迭代器模式
  <br />
  - 迭代器解决了如何更加方便、简易地遍历一个有序的数据集合的问题
  - 顺序访问有序结构（如：数组、NodeList）
  - 不知道数据的长度、内部结构
  - 高内聚、低耦合
- 原型模式
  <br />
  原型模式不常用，但原型链是 JS 基础，必须掌握
- 代理模式
  - 针对一个对象
  - 设置代理，控制对这个对象的访问
  - 为其他对象提供一种代理以控制对这个对象的访问。在直接访问对象时带来的问题
- 职责链模式
  - 一个流程，需要多个步骤来处理
  - 把多个步骤分开，通过一个“链”串联起来
  - 各个步骤相互分离，互不干扰
- 策略模式
  - 针对多个条件分支
  - 不用很多 if...else 或 switch...case
  - 将每个分支单独处理，相互隔离
- 装饰器模式
  - 我们需要使用某种特定格式、类型的数据
  - 而我们获取到的原始数据，并非这种格式

### vue 和 react 源码用了哪些设计模式

- 工厂模式

  1. Vue 的 createElementVNode
  2. React 的 createElementt

- 单例模式

  1. Vuex，Redux，EventBus

- 观察者模式

  1. DOM 事件
  2. Vue React 组件生命周期
  3. Vue 的 watch
  4. Vue 的组件更新过程，React 不是观察者模式，它是通过 setState 主动触发的
  5. 各种异步回调，如：setTimeout，Promise.then
  6. MutationObserver，监听 DOM 节点，DOM 树变化的
  7. NodeJS 的 stream

- 发布-订阅模式

  1. 自定义事件，Vue2 本身就是一个 EventBus，Vue3 不再自带 EventBus 功能，推荐使用 mitt
  2. postMessage 通讯
  3. webWorker 通讯
  4. webSocket 通讯

- 迭代器模式

  1. Symbol.iterator。所有的有序数据结构，都内置了 Symbol.iterator 这个 key，使用它可以 2. 获得该数据结构的迭代器
  2. 自定义迭代器
  3. 用于 for of,只要内置了 Symbol.iterator 这个 key，都可以使用 for of 来进行遍历
  4. 用于数组的解构、扩展操作符、Array.from
  5. 用于 Promise.all 和 Promise.race
  6. 用于生成器 yield\*

- 代理模式

  1. DOM 事件代理（事件委托，冒泡给顶层处理）
  2. 事件绑定到父容器上，而非目标节点
  3. 适合目标较多或数量不确定（如无限加载的瀑布流图片列表）

- 适配器模式
  vue 的 computed

v-model

观察者模式：当数据属性发生变化时，Vue会通过观察者模式通知相关的观察者，从而更新关联的输入元素的值。同时，当用户在输入元素中修改值时，通过观察者模式，Vue会自动更新数据属性的值。
适配器模式：v-model 指令将数据属性和用户界面中的输入元素绑定在一起，起到了适配器的作用。它将输入元素的值转化为数据属性的值，并将数据属性的改变反映到输入元素，实现了输入和数据之间的双向转换。
策略模式：v-model 指令根据不同的输入元素类型（如 input、select、textarea 等）选择不同的策略来处理双向数据绑定。不同类型的输入元素可能有不同的值的获取方式和事件监听机制，v-model 根据类型选择合适的策略来实现数据的同步

v-if

策略模式
观察者模式：Vue使用了观察者模式来实现数据的响应式。在 v-if 指令中，当条件发生改变时，Vue会通过观察者模式通知相关的观察者，从而更新 DOM 中对应的元素。
组合模式：Vue中的模板语法支持将多个 v-if 同时应用在一个元素上，这样就可以根据多个条件的组合来判断是否渲染该元素。这种组合的方式可以看作是组合模式的应用。
模板方法模式：Vue的编译器在解析模板时，会根据 v-if 指令的条件来生成相应的渲染函数。这个过程中使用了模板方法模式，即定义一个模板方法，然后在不同的条件下使用不同的具体实现。
外观模式：v-if 可以隐藏或显示元素，这种隐藏和显示的操作可以看作是对元素的外观进行操作。v-if 提供了一个简单的语法来封装复杂的条件判断逻辑，使得操作元素的外观变得简单和易于理解。
