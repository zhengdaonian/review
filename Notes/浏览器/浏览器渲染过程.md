## 从输入URL到页面渲染全过程
1. DNS域名解析
- 通过域名获取IP地址
- 根据缓存，DNS有多级缓存，浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存
- 浏览器缓存：浏览器会按照一定的频率缓存 DNS 记录。
- 操作系统缓存：如果浏览器缓存中找不到需要的 DNS 记录，那就去操作系统中找。
- 路由缓存：路由器也有 DNS 缓存。
- ISP 的 DNS 服务器：ISP 是互联网服务提供商(Internet Service Provider)的简称，ISP 有专门的 DNS 服务器应对 DNS 查询请求。
- 根服务器：ISP 的 DNS 服务器还找不到的话，它就会向根服务器发出请求，进行递归查询（DNS 【服务器先问根域名服务器.com】 域名服务器的 IP 地址，然后再问.baidu 域名服务器，依次类推）
2. DNS解析
1. 构建浏览器和服务器的TCP链接（3次握手）
2. 浏览器发送HTTP请求
3. 服务器处理HTTP请求，并返回请求的资源（HTML，CSS，JS）
4. 浏览器解析并渲染界面
5. 断开TCP链接（4次挥手）
- 输入www.google.com
- 本地域名服务器查找是否有缓存，如果没有去问根域名服务器
- 根域名服务器如果找不到，则会去问COM顶级域名服务器
- COM顶级域名服务器会告诉去下一级的域名服务器google.com域名服务器查找IP
- google.com域名服务器终于找到了IP，并返回IP给本地域名服务器
- 本地域名服务器将IP地址告诉浏览器，浏览器进行下一步操作
- 同时，本地域名服务器还会将这个IP地址缓存，以便下次快速寻找IP

## 浏览器拿到数据后的渲染过程

浏览器在接收到网页的 HTML、CSS 和 JavaScript 数据后，经历一系列步骤来渲染网页，这个过程通常被称为浏览器的渲染过程：
1. 解析 HTML 和构建 DOM 树
   <br />
    浏览器开始解析 HTML 数据，并构建文档对象模型（DOM）树，表示网页的结构和内容。DOM 树是一个树状结构，其中每个 HTML 元素都被表示为一个节点，包括文本、标签、属性等
2. 解析 CSS 和构建 CSSOM 树：
   <br />
   同时，浏览器也开始解析 CSS 数据，并构建 CSS 对象模型（CSSOM）树，表示网页的样式和布局信息。CSSOM 树与 DOM 树一一对应，每个元素都有对应的样式信息。
3. 合并 DOM 和 CSSOM，构建渲染树：
   <br />
   浏览器将 DOM 树和 CSSOM 树合并，构建渲染树（Render Tree）。渲染树包含了需要渲染的页面内容，但不包括那些被 CSS 隐藏的元素。
4. 布局计算：
   <br />
   浏览器开始计算每个元素在页面中的精确位置和尺寸，这个过程称为布局计算。浏览器确定元素如何放置和相互布局。
5. 绘制页面：
   <br />
   浏览器使用计算出的位置和尺寸信息来绘制页面。这包括将页面内容绘制到屏幕上的像素点上，以及处理字体渲染、图像显示等。
6. 处理 JavaScript：
   <br />
    如果页面包含 JavaScript，浏览器将执行 JavaScript 代码。JavaScript 可能会修改 DOM 树和样式，从而触发重新布局和绘制。
7. 反复执行布局和绘制：
   <br />
    如果 JavaScript 或用户交互导致页面内容发生变化，浏览器会根据需要执行布局和绘制的步骤。这个过程可能会多次发生。
8. 渲染完毕：
    <br />
    一旦浏览器完成所有的布局和绘制，页面就会呈现给用户，用户可以看到并与页面进行交互。

## dom解析规则

### 第一步：解析HTML
将载入的HTML文件解析成DOM树（DOM Tree），并且将各个标记标识解析成DOM树的各个节点；在解析HTML的同时会将CSS样式解析成CSS规则（CSS Rules）。
### 第二步：构建DOM树
将解析成的DOM树和CSS规则进行关联生成渲染树（Render Tree）。
### 第三步：DOM树与CSS样式进行附着构造呈现树
进入布局阶段，为DOM树的每个节点分配在屏幕上出现的确切坐标（这一阶段还是渲染树）
### 第四步：绘制
进入绘制阶段，在这里渲染引擎的工作就结束了，接下来就给用户界面后端（UI Backend）对渲染树的每个节点进行绘制，呈现出页面效果。


### 浏览器组成
用户界面
用户界面后端
网络
引擎：浏览器引擎，渲染引擎
JS解释器
数据存储

### css、js是否会阻塞渲染
css不阻止dom的解析
js阻止dom的解析
css js都会阻止dom的渲染
原因：
js有可能影响dom的解析，比如在js里面新增dom等这些操作
css不能影响dom的解析
而 dom的渲染 是需要等js，css都解析完成后才进行的（浏览器就是这么机智），所以css js都阻止dom的渲染

### JS操作DOM的性能优化方案
 当DOM节点信息发生变化，例如位置改变，DOM节点大小改变，都会对该DOM重新计算，并进行布局/回流操作（不同浏览器术语不一样）；

 ### HTML 文件中 CSS 文件和 JS 文件的加载顺序，会阻塞页面渲染吗